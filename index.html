<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="Evaluating mathematical reasoning of foundation models in visual contexts">
  <meta name="keywords" content="MathVista, Math Vista">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> MathVista: Evaluating Mathematical Reasoning of Foundation Models in Visual Context </title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script> -->
  <!-- <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
/Users/panlu/Library/Mobile Documents/com~apple~CloudDocs/ImageMath/visual-mathqa-server/data_final/images
    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script> -->

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <!-- @PAN TODO: pick an icon -->
  <link rel="icon" href="./static/images/mathvista.png">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
  <script src="./static/js/question_card.js"></script>
  <script src="./data/results/data_setting.js"></script>
  <script src="./visualizer/data/data_public.js"></script>
</head>
<body>

<nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu">
    <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
      <!-- <a class="navbar-item" href="https://keunhong.com">
      <span class="icon">
          <i class="fas fa-home"></i>
      </span>
      </a> -->
      <!-- @PAN TODO: consider adding links? -->
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">
          More Research
        </a>
        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://chameleon-llm.github.io/">
            Chameleon
          </a>
          <a class="navbar-item" href="https://scienceqa.github.io/">
            ScinceQA
          </a>
          <a class="navbar-item" href="https://promptpg.github.io/">
            PromptPG
          </a>
          <a class="navbar-item" href="https://arxiv.org/abs/2307.10635">
            SciBench
          </a>
          <a class="navbar-item" href="https://arxiv.org/abs/2305.12524">
            TheoremQA
          </a>
          <a class="navbar-item" href="https://lila.apps.allenai.org/">
            Lila
          </a>
          <a class="navbar-item" href="https://iconqa.github.io/">
            IconQA
          </a>
          <a class="navbar-item" href="https://lupantech.github.io/inter-gps/">
            Inter-GPS
          </a>
        </div>
      </div>
    </div>

  </div>
</nav>


<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title is-bold">
            <img src="static/images/mathvista.png" style="width:1em;vertical-align: middle" alt="Logo"/>
            <span class="mathvista" style="vertical-align: middle">MathVista</span>
            </h1>
          <h2 class="subtitle is-3 publication-subtitle">
            Evaluating Mathematical Reasoning of Foundation Models in Visual Contexts
          </h2>
          <div class="is-size-5 publication-authors">
            <span class="author-block">
              <a href="https://lupantech.github.io/">Pan Lu</a><sup style="color:#6fbf73;">1</sup>,</span>
            <span class="author-block">
              <a href="https://sites.google.com/view/hbansal">Hritik Bansal</a><sup style="color:#6fbf73;">1</sup>,</span>
            <span class="author-block">
              <a href="https://tonyxia2001.github.io/">Tony Xia</a><sup style="color:#6fbf73;">1</sup>,
            </span>
            <span class="author-block">
              <a href="https://liujch1998.github.io/">Jiacheng Liu</a><sup style="color:#ed4b82">2</sup>,
            </span>
            <span class="author-block">
              <a href="https://chunyuan.li/">Chunyuan Li</a><sup style="color:#ffac33">3</sup>,
            </span>
            <span class="author-block">
              <a href="https://homes.cs.washington.edu/~hannaneh/">Hannaneh Hajishirzi</a><sup style="color:#ed4b82">2</sup>,
            </span>
            <span class="author-block">
              <a href="https://sites.google.com/site/hcheng2site/Home">Hao Cheng</a><sup style="color:#ffac33">3</sup>,
            </span>
            <span class="author-block">
              <a href="http://web.cs.ucla.edu/~kwchang/">Kai-Wei Chang</a><sup style="color:#6fbf73;">1</sup>,
            </span>
            <span class="author-block">
              <a href="https://www.microsoft.com/en-us/research/people/mgalley/?from=https://research.microsoft.com/~mgalley&type=exact">Michel Galley</a><sup style="color:#ffac33">3</sup>,
            </span>
            <span class="author-block">
              <a href="https://www.microsoft.com/en-us/research/people/jfgao/">Jianfeng Gao</a><sup style="color:#ffac33">3</sup>
            </span>
          </div>

          <div class="is-size-5 publication-authors">
            <span class="author-block"><sup style="color:#6fbf73;">1</sup>University of California, Los Angeles,</span><br>
            <span class="author-block"><sup style="color:#ed4b82">2</sup>University of Washington,</span>
            <span class="author-block"><sup style="color:#ffac33">3</sup>Microsoft Research</span>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- PDF Link. -->
              <span class="link-block">
                <!-- @PAN TODO: change links -->
                <a href=""
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href=""
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <!-- Video Link. -->
              <!-- <span class="link-block">
                <a href="https://www.youtube.com/watch?v=MrKrnHhk8IA"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-youtube"></i>
                  </span>
                  <span>Video</span>
                </a>
              </span> -->
              <!-- Code Link. -->
              <span class="link-block">
                <a href="https://github.com/lupantech/MathVista"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                  </a>
              </span>
              <!-- Dataset Link. -->
              <span class="link-block">
                <a href=""
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="far fa-images"></i>
                  </span>
                  <span>Data</span>
                  </a>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <img src="static/images/teaser.png" alt="Examples from the dataset"/>
      <!-- <h2 class="subtitle has-text-centered">
        <span class="dnerf">Nerfies</span> turns selfie videos from your phone into
        free-viewpoint
        portraits.
      </h2> -->
    </div>
  </div>
</section>

<section class="section">
  <div class="container" style="margin-bottom: 2vh;">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Introduction</h2>
        <div class="content has-text-justified">
          <p>
            Although Large Language Models (LLMs) and Large Multimodal Models (LMMs) exhibit impressive skills in various domains, their ability for mathematical reasoning within visual contexts has not been formally examined. Equipping LLMs and LMMs with this capability is vital for general-purpose AI assistants and showcases promising potential in education, data analysis, and scientific discovery. 
          </p>
          <p>
            To bridge this gap, we present <span class="mathvista">MathVista</span>, a benchmark designed to amalgamate challenges from diverse mathematical and visual tasks. We first taxonomize the key task types, reasoning skills, and visual contexts from the literature to guide our selection from 28 existing math-focused and visual question answering datasets. Then, we construct three new datasets, IQTest, FunctionQA, and PaperQA, to accommodate for missing types of visual contexts. The problems featured often require deep visual understanding beyond OCR or image captioning, and compositional reasoning with rich domain-specific tools, thus posing a notable challenge to existing models. 
          </p>
          <p>
            We conduct a comprehensive evaluation of 11 prominent open-source and proprietary foundation models (LLMs, LLMs augmented with tools, and LMMs). The best-performing model, Multimodal Bard, achieves only 58% of human performance (34.8% vs 60.3%), indicating ample room for further improvement. Given this significant gap, <span class="mathvista">MathVista</span> fuels future research in the development of general-purpose AI agents capable of tackling mathematically intensive and visually rich real-world tasks.
          </p>
        </div>
      </div>
    </div>
    <!--/ Abstract. -->
</div>
</section>

<!-- DATASET SECTION -->
<section class="hero is-light is-small">
  <div class="hero-body has-text-centered">
    <h1 class="title is-1 mathvista">MathVista Dataset</h1>
  </div>
</section>

<section class="section">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-full-width has-text-centered">
        <h2 class="title is-3">Overview</h2>
        <div class="content has-text-justified">
          <p>
            <span class="mathvista">MathVista</span> is a compilation of data 1) carefully examined and filtered from existing VQA and MathQA datasets and 2) manually collected by us. In total, 6,141 examples were collected from 31 different datasets.
          </p>
          <p>
            All the data examples were divided into two subsets: testmini and test. 
            <!-- @PAN TODO: add download links -->
            <ul>
              <li><b>testmini</b>: 1,000 examples used for model development, validation, or for those with limited computing resources.</li>
              <li><b>test</b>: 5,141 examples for standard evaluation. Notably,
                the answer labels for test will not be publicly released to prevent data contamination</li>
            </ul>
            You can download the data <a href="" target="_blank">here</a> and our github codebase <a href="" target="_blank">here</a>.
          </p>
        </div>
      </div>
    </div>
    <div class="columns is-centered">
      <div class="column">
        <div class="content has-text-centered">
          <img src="static/images/statistics.png" alt="data-overview" style="max-width: 60%;"/>
        </div>
      </div>
      <div class="column">
        <div class="content has-text-centered">
          <img src="static/images/data-composition.png" alt="data-composition" style="max-width: 60%;"/>
          <p>
              <b>FQA</b>: figure question answering<br/>
              <b>GPS</b>: geometry problem solving<br/>
              <b>MWP</b>: math word problem<br/>
              <b>TQA</b>: textbook question answering<br/>
              <b>VQA</b>: visual question answering<br/>
          </p>
        </div>
      </div>
    </div>
    <div class="columns is-centered mt-6">
      <div class="column is-full has-text-centered content">
        <h2 class="title is-3">Examples</h2>
        <p>One example for each reasoning skill required in <span class="mathvista">MathVista</span></p>
        <div id="results-carousel" class="carousel results-carousel">
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/examples/ari.png" alt="arithmetic reasoning" width="99%"/>
              <p>Arithmetic Reasoning</p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/examples/alg.png" alt="algebraic reasoning" width="99%"/>
              <p>Algebraic Reasoning</p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/examples/geo.png" alt="geometric reasoning" width="99%"/>
              <p>Geometric Reasoning</p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/examples/log.png" alt="logical reasoning" width="99%"/>
              <p>Logical Reasoning</p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/examples/num.png" alt="numeric reasoning" width="99%"/>
              <p>Numeric Reasoning</p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/examples/sta.png" alt="statistical reasoning" width="99%"/>
              <p>Statistical Reasoning</p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/examples/sci.png" alt="scientific reasoning" width="99%"/>
              <p>Scientific Reasoning</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="columns is-centered mt-6">
      <div class="column is-full has-text-centered content">
        <h2 class="title is-3">Statistics</h2>
        <p>Notable statistics of <span class="mathvista">MathVista</span></p>
        <div id="results-carousel" class="carousel results-carousel">
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/statistics/context-dist.png" alt="context" class="stats-image"/>
              <p>Distribution of visual context types within <span class="mathvista">MathVista</span></p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/statistics/category.png" alt="category" class="stats-image"/>
              <p>Category distribution of problems within <span class="mathvista">MathVista</span></p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/statistics/grade-levels.png" alt="grade" class="stats-image"/>
              <p>Distribution of questions across different grade levels within <span class="mathvista">MathVista</span></p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/statistics/qs-len.png" alt="qs-len" class="stats-image"/>
              <p>Distribution of the number of words per question in <span class="mathvista">MathVista</span>. Questions with a
                length greater than 60 are categorized as 61 for visualization simplicity</p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/statistics/reasoning.png" alt="reasoning" class="stats-image"/>
              <p>Portion of each mathematical reasoning type involved in the problems of <span class="mathvista">MathVista</span></p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/statistics/reasoning-count.png" alt="reasoning-count" class="stats-image"/>
              <p>Distribution of the number of mathematical reasoning types within <span class="mathvista">MathVista</span></p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/statistics/task-type.png" alt="task-type" class="stats-image"/>
              <p>Task type distribution of problems within <span class="mathvista">MathVista</span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="columns is-centered mt-6">
      <div class="column is-max-desktop has-text-centered">
        <h2 class="title is-3">Visualization</h2>
        <iframe src="visualizer/explore.html" style="width: 100%;min-height: 100vh; border-radius: 20px;"></iframe>
      </div>
    </div>
  </div>
</section>

<!-- RESULTS SECTION -->
<section class="hero is-light is-small">
  <div class="hero-body has-text-centered">
    <h1 class="title is-1 mathvista">Experiment Results</h1>
  </div>
</section>

<section class="section">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-full has-text-centered content">
        <h2 class="title is-3">Results on Existing Foundation Models</h2>
        <!-- <p>One example for each reasoning skill required in <span class="mathvista">MathVista</span></p> -->
        <div id="results-carousel" class="carousel results-carousel">
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/results-figures/grade-lv.png" alt="grade-lv" width="99%"/>
              <p>Average accuracy scores across different grade levels for leading foundation models</p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/results-figures/contexts.png" alt="contexts" width="99%"/>
              <p>Accuracy scores of leading baselines across various visual contexts</p>
            </div>
          </div>
          <div class="box m-5">
            <div class="content has-text-centered">
              <img src="static/images/results-figures/ablation.png" alt="geometric reasoning" width="99%"/>
              <p>Average accuracy scores of LLM baselines under various visual inputs</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="columns is-centered mt-6">
      <div class="column is-full has-text-centered content">
        <h2 class="title is-3">Leaderboard</h2>
        <div class="content">
          <img src="static/images/result-scores.png" alt="leaderboard"/>
          <p>Accuracy scores on the testmini subset. The highest
            scores among models in each section and overall are highlighted in <span style="color:blue">blue</span> and <span style="color:red">red</span>, respectively.</p>
          <div class="is-flex is-justify-content-center">
            <div class="has-text-justified">
              <b>Input:</b> <br/>
              <ul>
                <li><b>Q:</b> question</li>
                <li><b>I:</b> image</li>
                <li><b>Ic:</b> image caption</li>
                <li><b>It:</b> OCR text detected in the image</li>
                <li><b>ALL:</b> overall accuracy</li>
              </ul>
            </div>
            <div class="has-text-justified">
              <b>Task types:</b><br/>
              <ul>
                <li><b>FQA:</b> figure question answering</li>
                <li><b>GPS:</b> geometry problem solving</li>
                <li><b>MWP:</b> math word problem</li>
                <li><b>TQA:</b> textbook question answering</li>
                <li><b>VQA:</b> visual question answering</li>
              </ul>
            </div>
            <div class="has-text-justified">
              <b>Mathematical reasoning types:</b><br/> 
              <ul>
                <li><b>ALG:</b> algebraic reasoning</li>
                <li><b>ARI:</b> arithmetic reasoning</li>
                <li><b>GEO:</b> geometry reasoning</li>
                <li><b>LOG:</b> logical reasoning</li>
                <li><b>NUM:</b> numeric commonsense</li>
                <li><b>SCI:</b> scientific reasoning</li>
                <li><b>STA:</b> statistical reasoning</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container is-full has-text-centered content mt-6" id="result-table">
      <h2 class="title is-3">Explorer</h2>
      <p>Explore the outputs of each model on <span class="mathvista">MathVista</span></p>
      <div class="level has-text-centered" style="position: sticky; top: 0; z-index: 20;">
        <div class="level-item box m-3" style="width: 30%; background: rgba(250, 250, 250, 1);">
          <button class="button" style="width: 100%; border: none; background: rgba(250, 250, 250, 1);" id="refresh-qids">
            <span class="icon is-large">
              <i class="fa fa-redo fa-lg" aria-hidden="true"></i>
            </span>
            <p class="title is-4 m-0">Refresh Question</p>
          </button>
        </div>
        <div class="level-item box m-3" style="width: 30%; background: rgba(250, 250, 250, 1);">
          <div class="dropdown" style="width: 100%;">
            <div class="dropdown-trigger has-text-justified" style="width: 100%; ">
              <button class="button" aria-haspopup="true" aria-controls="dropdown-menu" style="width: 100%; border: none; background: rgba(250, 250, 250, 1);">
                <p class="title m-0 is-4 dropdown-display">Select Model</p>
                <span class="icon is-large" style="position: absolute; right:0;">
                  <i class="fas fa-angle-down fa-lg" aria-hidden="true"></i>
                </span>
              </button>
            </div>
            <div class="dropdown-menu" id="dropdown-menu" role="menu" style="width:100%;">
              <div class="dropdown-content">
                <!-- <a class="dropdown-item">
                  Dropdown item
                </a>
                <a class="dropdown-item">
                  Other dropdown item
                </a> -->
              </div>
            </div>
          </div>
        </div>
        <div class="level-item box m-3" style="width: 30%; background: rgba(250, 250, 250, 1);">
          <div class="dropdown" style="width: 100%;">
            <div class="dropdown-trigger has-text-justified" style="width: 100%;">
              <button class="button" aria-haspopup="true" aria-controls="dropdown-menu" style="width: 100%; border: none; background: rgba(250, 250, 250, 1);">
                <p class="title m-0 is-4 dropdown-display">Select Model</p>
                <span class="icon is-large" style="position: absolute; right:0;">
                  <i class="fas fa-angle-down fa-lg" aria-hidden="true"></i>
                </span>
              </button>
            </div>
            <div class="dropdown-menu" id="dropdown-menu" role="menu" style="width:100%;">
              <div class="dropdown-content">
                <!-- <a class="dropdown-item">
                  Dropdown item
                </a>
                <a class="dropdown-item">
                  Other dropdown item
                </a> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- @PAN TODO: bibtex -->
<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title is-3 has-text-centered">BibTeX</h2>
    <pre><code>@article{lu2023mathvista,
  author    = {Lu, Pan and Bansal, Hritik and Xia, Tony and Liu, Jiacheng and Li, Chunyuan and Hajishirzi, Hannaneh and Cheng, Hao and Chang, Kai-Wei and Galley, Michel and Gao, Jianfeng},
  title     = MathVista: Evaluating Mathematical Reasoning of Foundation Models in Visual Contexts},
  year      = {2023}
}</code></pre>
  </div>
</section>

<section>
  <div class="section" id="org-banners" style="display:flex">
    <a href="https://www.ucla.edu/" target="_blank" rel="external">
        <img class="center-block org-banner" src="static/images/ucla.png">
    </a>
    <a href="https://www.washington.edu/" target="blank" class="ext-link">
        <img class="center-block org-banner" src="static/images/uw.png">
    </a>
    <a href="https://www.microsoft.com/en-us/research/" target="_blank" rel="external">
        <img class="center-block org-banner" src="static/images/microsoft.png">
    </a>
  </div>
</section>


<footer class="footer">
  <!-- <div class="container"> -->
    <div class="content has-text-centered">
    </div>
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            This website is website adapted from <a href="https://nerfies.github.io/">Nerfies</a>, licensed under a <a rel="license"
                                                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
        </div>
      </div>
    </div>
  <!-- </div> -->
</footer>

</body>
</html>
